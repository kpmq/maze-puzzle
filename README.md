# maze-puzzle

간단한 미로 퍼즐 게임입니다.

# 어떻게 플레이하나요?
이 게임은 탈출구(깃발)을 향해 연결되는 문이 있는 칸으로 이동해 탈출구가 있는 칸에 도달하는 게임입니다.

기본적으로 캐릭터는 파란색 사각형으로 표시되어 있습니다.
기본적으로 모든 칸은 검은색 벽으로 이루어져 있으며, 그 중 랜덤하게 동, 서, 남, 북 중 2~4개 방향으로 랜덤하게 문이 생성됩니다.
기본적으로 문은 밝은 초록색으로 표시되어 있습니다.

## 조작

1. W, A, S, D
   w,a,s,d 키를 이용하여 문을 넘어 해당 방향의 칸으로 이동할 수 있습니다.
2. 방향키
   각각 해당하는 방향의 방향 키를 이용하여 해당 방향의 칸으로 이동할 수 있습니다.
3. 캐릭터 위치 리셋
   게임 도중 E 키를 3초간 꾹 눌러 캐릭터의 위치를 처음 시작 위치로 되돌릴 수 있습니다.
4. 맵 리셋
   게임 도중 Q 키를 3초간 꾹 눌러 캐릭터의 위치와 맵 자체를 초기화하고 다시 생성할 수 있습니다.
5. 난이도 선택
   게임 실행 시 난이도 선택 화면이 나옵니다. 이 상태에서 키보드 숫자 1번, 2번, 3번, 4번 키로 각각 쉬움 / 보통 / 어려움 / 익스트림 난이도를 선택할 수 있습니다.
6. 확대(줌)
   보통 또는 어려움 난이도 플레이 시 사용 가능합니다. 마우스의 휠 스크롤을 이용해 조절 가능하며, 확대 시 확대된 상태로 캐릭터를 중심으로 화면이 이동합니다. 맵의 끝에서는 화면이 이동하지 않습니다.
   보통 : 확대 한 번 가능, 확대 시 캐릭터 주변 3×3의 칸만 보여줌.
   어려움 : 확대 두 번 가능, 1차 확대 시 캐릭터 주변 5×5의 칸만 보여주며, 2차 확대 시 캐릭터 주변 3×3의 칸만 보여줌.

## 게임 진행
위에서 서술한 이동 키를 이용하여 문이 있는 방향으로 칸을 한 칸씩 옮길 수 있습니다.
문이 없는 칸으로는 이동할 수 없으며, 문으로 연결된 칸을 이용해 우회하여 가야 합니다.
탈출구(깃발)이 있는 칸에 도달하면 탈출 성공 메시지와 함께 탈출하는 데에 소요된 시간을 알려줍니다.

## 난이도
1. 쉬움
   가장 쉬운 난이도입니다. 맵의 크기는 4×4이며, 탈출하기 매우 쉽습니다.
2. 보통
   적정한 난이도입니다. 맵의 크기는 6×6이며, 마우스의 휠 스크롤을 이용하여 화면을 캐릭터의 위치 중심으로 확대할 수 있습니다. (확대 시 캐릭터 주변 3×3)
3. 어려움
   어려운 난이도입니다. 이 난이도부터는 조금 생각 할 필요가 있어집니다. 맵의 크기는 9×9이며, 마우스의 휠 스크롤을 이용하여 화면을 캐릭터의 위치 중심으로 확대할 수 있습니다. (1차 확대 시 캐릭터 주변 5×5, 2차 확대 시 캐릭터 주변 3×3)
4. 익스트림
   매우 어려운 난이도입니다. 이 난이도에서는 시점이 캐릭터 주변 4×4의 칸만 보여주는 것으로 고정되며, 맵의 크기는 13×13입니다. 확대하거나 축소할 수 없습니다.

**-----------------------v2.0.0 업데이트 이후-----------------------**

# 랭킹(순위) 시스템
1. 순위
   난이도 선택 화면의 우측 하단에 있는 버튼을 통해 볼 수 있습니다. 난이도 별로 기록을 볼 수 있으며, 게임 입장 시 입력한 이름과 함께 기록이 표시됩니다.
2. 기록 저장 모드
   난이도 선택 화면의 하단에 있는 버튼을 통해 토글할 수 있습니다. 켜져있을 시 순위에 기록이 저장됩니다.
3. 기록 초기화
   난이도 선택 화면의 좌측 하단에 있는 버튼을 통해 모든 기록을 초기화할 수 있습니다. 이 선택은 순위 기록 파일의 백업본이 있지 않는 한 되돌릴 수 없습니다. 기록 초기화 시 기본적으로 비밀번호를 요구합니다.
   
   <details> 
     <summary>비밀번호 펼치기/접기</summary>
      초기 비밀번호 : 1018 
   </details>
   
## For Developers

**맵 생성 규칙**
1. 캐릭터가 있는 칸 제외하고 주변 8칸 내에 탈출구 생성 금지
2. 캐릭터가 있는 칸과 그 칸으로부터 동,서,남,북 방향에 있는 칸에서 탈출구로 바로 연결되는 직선 경로가 있으면 안됨
3. 문을 랜덤한 확률(p)로 각 칸마다 1~4개로 생성 후 모든 칸 검사 -> 문이 2개 미만인 칸이 있으면 연결 가능한 방향 중 아직 문이 없는 쪽을 무작위 선택해서 문을 추가(이때, 이웃 칸 문 개수가 4 미만일 때만 연결함.)
4. 생성된 칸들 중 무작위로 시작 위치 선택 -> BFS(너비 우선 탐색) 알고리즘으로 도달 가능한 칸 집합 구하기 -> 탈출구 칸의 후보는 1번과 2번을 만족해야 하고, 후보가 있으면 무작위로 선택, 없으면 맵 전체 재생성
